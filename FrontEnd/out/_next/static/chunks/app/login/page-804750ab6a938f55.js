(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{5560:(e,t,s)=>{Promise.resolve().then(s.bind(s,7778))},232:(e,t,s)=>{"use strict";s.d(t,{J:()=>i,v:()=>n});var l=s(5155),a=s(2115);let r=(0,a.createContext)(),n=e=>{let{children:t}=e,[s,n]=(0,a.useState)(null);return(0,l.jsx)(r.Provider,{value:{user:s,setUser:n},children:t})},i=()=>(0,a.useContext)(r)},7778:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var l=s(5155),a=s(2115),r=s(6046),n=s(2651),i=s(232),d=s(473);function c(){let{setUser:e}=(0,i.J)(),[t,s]=(0,a.useState)(!0),[c,o]=(0,a.useState)(""),[m,x]=(0,a.useState)(""),[h,u]=(0,a.useState)(""),[g,p]=(0,a.useState)(""),[b,f]=(0,a.useState)(""),[y,j]=(0,a.useState)(""),[v,w]=(0,a.useState)(""),[N,k]=(0,a.useState)(""),[S,C]=(0,a.useState)(!1),[A,q]=(0,a.useState)(!1),F=(0,r.useRouter)(),_=e=>{let t=0,s={length:e.length>=8,hasSymbol:/[!@#$%^&*(),.?":{}|<>]/.test(e),hasNumber:/[0-9]/.test(e)};return s.length&&t++,s.hasSymbol&&t++,s.hasNumber&&t++,{strength:t,checks:s}},z=async t=>{t.preventDefault(),C(!0);try{let t=await n.A.post("".concat("http://localhost:2000","/login"),{email:m,password:g});localStorage.setItem("token",t.data.token);let s={id:t.data.user._id,fullname:t.data.user.fullname,email:t.data.user.email,phoneNumber:t.data.user.phoneNumber,rank:t.data.user.rank};j(""),localStorage.setItem("user",JSON.stringify(s)),e(s),F.push("/")}catch(e){j(e.response.data.message)}finally{C(!1)}},D=async t=>{if(t.preventDefault(),q(!0),w(""),!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(m)){w("الرجاء التأكد من صحة البريد الإلكتروني"),q(!1);return}if(!/^\d{10}$/.test(h)){w("الرجاء التأكد من صحة رقم الهاتف"),q(!1);return}if(g!==b){w("كلمات المرور غير متطابقة"),q(!1);return}let{strength:s,checks:l}=_(g);if(!l.length){w("عذرا كلمة المرور يجب ان لا تقل من ٨ احرف !"),q(!1);return}if(!l.hasSymbol){w("يجب أن تحتوي كلمة المرور على رمز واحد على الأقل"),q(!1);return}if(!l.hasNumber){w("يجب أن تحتوي كلمة المرور على رقم واحد على الأقل"),q(!1);return}try{let t=await n.A.post("".concat("http://localhost:2000","/register"),{email:m,fullname:c,password:g,email:m,phoneNumber:h});localStorage.setItem("token",t.data.token);let s={fullname:t.data.user.fullname,email:t.data.user.email,phoneNumber:t.data.user.phoneNumber,rank:t.data.user.rank};localStorage.setItem("user",JSON.stringify(s)),e(s),q(!1),w(""),k("تم انشاء حسابك بنجاح ! سيتم تحويلك للصفحة الرئيسية خلال ٥ ثواني..."),setTimeout(()=>{F.push("/")},5e3)}catch(e){w(e.response.data.message),q(!1)}finally{q(!1)}};return(0,l.jsxs)("div",{className:"flex items-center justify-center min-h-screen p-4",children:[(0,l.jsx)(d.A,{}),(0,l.jsx)("div",{className:"relative w-full max-w-5xl min-h-[600px] md:h-[600px] bg-white shadow-lg rounded-lg overflow-hidden",children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row-reverse h-full",children:[(0,l.jsx)("div",{className:"w-full md:w-1/2 flex flex-col justify-center items-center p-6 md:p-10 transition-all duration-500 ".concat(t?"bg-blue-500 text-white":"bg-sky-500/50 text-gray-800"),children:t?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{className:"text-xl md:text-2xl font-semibold text-center",children:"  مرحبا بعودتك! "}),(0,l.jsx)("p",{className:"text-xs md:text-sm mt-2 text-center",children:"ليس لديك حساب ؟ قم بإنشاء حسابك بسهولة "}),(0,l.jsx)("button",{onClick:()=>s(!1),className:"mt-4 md:mt-6 px-4 py-2 md:px-5 md:py-2 border rounded-full text-sm md:text-base border-white text-white transition hover:bg-white hover:text-blue-500",children:"إنشاء حساب"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{className:"text-xl md:text-2xl font-semibold text-center",children:" أدخل بياناتك لبدء رحلتك "}),(0,l.jsx)("p",{className:"text-xs md:text-sm mt-2 text-center",children:"لديك حساب بالفعل ؟ قم بتسجيل الدخول "}),(0,l.jsx)("button",{onClick:()=>s(!0),className:"mt-4 md:mt-6 px-4 py-2 md:px-5 md:py-2 border rounded-full text-sm md:text-base border-blue-500 text-blue-500 transition hover:bg-blue-500 hover:text-white",children:"تسجيل الدخول"})]})}),(0,l.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col justify-center p-4 md:p-12 text-right",children:[t?(0,l.jsx)("form",{onSubmit:z,className:"w-full max-w-md mx-auto",children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{className:"text-xl md:text-2xl font-semibold text-blue-500",children:"تسجيل الدخول"}),(0,l.jsx)("input",{required:!0,type:"email",name:"email",placeholder:"البريد الإلكتروني",value:m,onChange:e=>x(e.target.value),className:"mt-3 p-3 w-full border rounded text-right text-sm md:text-base text-black"}),(0,l.jsx)("input",{required:!0,type:"password",name:"password",placeholder:"كلمة المرور",value:g,onChange:e=>p(e.target.value),className:"mt-3 p-3 w-full border rounded text-right text-sm md:text-base text-black"}),(0,l.jsx)("a",{href:"/reset_password",className:"text-blue-500 text-sm mt-2",children:"نسيت كلمة المرور ؟"}),y&&(0,l.jsx)("p",{className:"text-red-500 text-sm mt-2",children:y}),"...",(0,l.jsx)("button",{type:"submit",className:"mt-4 md:mt-5 px-4 py-2 md:px-5 md:py-3 w-full bg-blue-500 text-white rounded text-sm md:text-base transition hover:bg-blue-600 ".concat(S?"opacity-50 cursor-not-allowed":""),disabled:S,children:S?(0,l.jsxs)("span",{className:"flex items-center justify-center",children:[(0,l.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"جاري التحميل..."]}):t?"تسجيل الدخول":"إنشاء حساب"})]})}):(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("form",{onSubmit:D,className:"w-full max-w-md mx-auto",children:[(0,l.jsx)("h2",{className:"text-xl md:text-2xl font-semibold text-blue-500",children:"إنشاء حساب"}),(0,l.jsx)("input",{required:!0,type:"text",name:"fullname",placeholder:"الاسم الكامل",value:c,onChange:e=>o(e.target.value),className:"mt-3 p-3 w-full border rounded text-right text-sm md:text-base text-black"}),(0,l.jsx)("input",{required:!0,type:"email",name:"email",placeholder:"البريد الإلكتروني",value:m,onChange:e=>x(e.target.value),className:"mt-3 p-3 w-full border rounded text-right text-sm md:text-base text-black"}),(0,l.jsx)("input",{type:"tel",name:"phoneNumber",placeholder:"رقم الهاتف",value:h,onChange:e=>u(e.target.value),className:"mt-3 p-3 w-full border rounded text-right text-sm md:text-base text-black",pattern:"[0-9]{10}",title:"يجب أن يتكون رقم الهاتف من 10 أرقام"}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("input",{type:"password",placeholder:"كلمة المرور الجديدة",value:g,onChange:e=>p(e.target.value),className:"mt-3 p-3 w-full border rounded text-right text-sm md:text-base text-black",required:!0}),(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsx)("div",{className:"flex justify-between mb-1",children:(0,l.jsx)("div",{className:"text-xs text-gray-500",children:"قوة كلمة المرور"})}),(0,l.jsx)("div",{className:"flex space-x-1 rtl:space-x-reverse",children:[void 0,void 0,void 0].map((e,t)=>(0,l.jsx)("div",{className:"h-2 flex-1 rounded-full transition-all duration-300 ".concat(0===g.length?"bg-gray-200":t<_(g).strength?["bg-red-500","bg-yellow-500","bg-green-500"][_(g).strength-1]:"bg-gray-200")},t))})]}),(0,l.jsxs)("div",{className:"mt-2 text-xs space-y-1",children:[(0,l.jsxs)("div",{className:"flex items-center ".concat(g.length>=8?"text-green-500":"text-gray-400"),children:[(0,l.jsx)("span",{className:"ml-1",children:g.length>=8?"✓":"○"}),"8 أحرف على الأقل"]}),(0,l.jsxs)("div",{className:"flex items-center ".concat(/[!@#$%^&*(),.?":{}|<>]/.test(g)?"text-green-500":"text-gray-400"),children:[(0,l.jsx)("span",{className:"ml-1",children:/[!@#$%^&*(),.?":{}|<>]/.test(g)?"✓":"○"}),"رمز واحد على الأقل (مثل !@#$%)"]}),(0,l.jsxs)("div",{className:"flex items-center ".concat(/[0-9]/.test(g)?"text-green-500":"text-gray-400"),children:[(0,l.jsx)("span",{className:"ml-1",children:/[0-9]/.test(g)?"✓":"○"}),"رقم واحد على الأقل"]})]})]}),(0,l.jsx)("input",{required:!0,type:"password",name:"confirmPassword",placeholder:"تأكيد كلمة المرور",value:b,onChange:e=>f(e.target.value),className:"mt-3 p-3 w-full border rounded text-right text-sm md:text-bas text-black"}),v&&(0,l.jsx)("p",{className:"text-red-500 text-sm mt-2",children:v}),"...",(0,l.jsx)("button",{type:"submit",className:"mt-4 md:mt-5 px-4 py-2 md:px-5 md:py-3 w-full bg-blue-500 text-white rounded text-sm md:text-base transition hover:bg-blue-600 ".concat(A?"opacity-50 cursor-not-allowed":""),disabled:A,children:A?(0,l.jsxs)("span",{className:"flex items-center justify-center",children:[(0,l.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"جاري التحميل..."]}):"إنشاء حساب"})]})}),N&&(0,l.jsx)("p",{className:"text-center md:text-right text-green-500 mt-4 md:mt-3 text-sm md:text-base",children:N})]})]})})]})}},473:(e,t,s)=>{"use strict";s.d(t,{A:()=>m});var l=s(5155),a=s(8173),r=s.n(a),n=s(2115),i=s(6046),d=s(689),c=s(7936),o=s(232);let m=()=>{let e=(0,n.useRef)(null),[t,s]=(0,n.useState)(!1),[a,m]=(0,n.useState)(!1),{user:x,setUser:h}=(0,o.J)(),[u,g]=(0,n.useState)(""),p=(0,i.useRouter)(),b=(0,i.usePathname)(),f=e=>b===e||(null==b?void 0:b.startsWith("".concat(e,"/")));return(0,n.useEffect)(()=>{let t=t=>{e.current&&!e.current.contains(t.target)&&s(!1)};return document.addEventListener("click",t),()=>{document.removeEventListener("click",t)}},[]),(0,l.jsxs)("nav",{className:"p-4 fixed top-0 left-0 w-full z-50 bg-white transition-colors duration-300",children:[(0,l.jsxs)("div",{className:"container mx-auto flex items-center justify-between",children:[(0,l.jsx)("div",{className:"flex items-center space-x-2 space-x-reverse",children:(0,l.jsx)("img",{src:"/images/SuqiaLogo.PNG",alt:"سقيا Logo",style:{width:100}})}),(0,l.jsxs)("ul",{className:"hidden md:flex items-center bg-gray-100 rounded-full px-4 py-2 space-x-4 space-x-reverse",children:[(0,l.jsx)("li",{children:(0,l.jsx)(r(),{href:"/",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white transition-all ".concat(f("/")?"bg-white":""),children:"الرئيسية"})}),(0,l.jsx)("li",{children:(0,l.jsx)(r(),{href:"/about",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white transition-all ".concat(f("/about")?"bg-white":""),children:"من نحن"})}),x&&"user"==x.rank&&(0,l.jsx)("li",{children:(0,l.jsx)(r(),{href:"/DistributersRequest",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white transition-all ".concat(f("/DistributersRequest")?"bg-white":""),children:"تسجيل السائقين"})}),(0,l.jsx)("li",{children:(0,l.jsx)(r(),{href:"/contact",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white transition-all ".concat(f("/contact")?"bg-white":""),children:"فريقنا"})}),(0,l.jsx)("li",{children:(0,l.jsx)(r(),{href:"/order",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white transition-all ".concat(f("/order")?"bg-white":""),children:"اطلب الان"})})]}),u&&(0,l.jsx)("p",{className:"text-red-500 text-sm mt-2",children:u}),x?(0,l.jsxs)("div",{className:"relative hidden md:block",children:[(0,l.jsxs)("button",{className:"bg-[#38B6FF] text-white font-semibold py-2 px-6 rounded-full shadow-lg hover:bg-[#29A5F2] flex items-center",onClick:()=>s(!t),children:["حسابك",(0,l.jsx)("svg",{className:"w-2.5 h-2.5 ms-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:(0,l.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 4 4 4-4"})})]}),t&&(0,l.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10",children:["user"==x.rank&&(0,l.jsx)(r(),{href:"/myDonations",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100",children:"تبرعاتي"}),"distributer"==x.rank&&(0,l.jsx)(r(),{href:"/dashboard/home",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100",children:"لوحة التحكم"}),"admin"==x.rank&&(0,l.jsx)(r(),{href:"/admin/home",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100",children:"لوحة التحكم"}),(0,l.jsx)(r(),{href:"/profile",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100",children:"الملف الشخصي"}),(0,l.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),h(null),p.push("/login")},className:"block w-full text-right px-4 py-2 text-gray-700 hover:bg-gray-100",children:"تسجيل الخروج"})]})]}):(0,l.jsx)(r(),{href:"/login",className:"hidden md:block bg-[#38B6FF] text-white font-semibold py-2 px-6 rounded-full shadow-lg hover:bg-[#29A5F2]",children:"تسجيل الدخول"}),(0,l.jsx)("div",{className:"md:hidden",children:(0,l.jsx)("button",{className:"text-gray-700 focus:outline-none",onClick:()=>{m(!a)},children:a?(0,l.jsx)(d.A,{className:"w-6 h-6"}):(0,l.jsx)(c.A,{className:"w-6 h-6"})})})]}),(0,l.jsxs)("ul",{className:"md:hidden flex-col items-center bg-gray-100 px-4 py-2 mt-4 space-y-4 ".concat(a?"flex":"hidden"),children:[(0,l.jsx)("li",{children:(0,l.jsx)(r(),{href:"/",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"الرئيسية"})}),x&&"user"==x.rank&&(0,l.jsx)("li",{children:(0,l.jsx)(r(),{href:"/DistributersRequest",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all ".concat(f("/DistributersRequest")?"bg-white":""),children:"تسجيل السائقين"})}),(0,l.jsx)("li",{children:(0,l.jsx)(r(),{href:"/contact",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"فريقنا"})}),(0,l.jsx)("li",{children:(0,l.jsx)(r(),{href:"/order",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"اطلب الان"})}),x?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("hr",{}),(0,l.jsxs)("li",{children:["user"==x.rank&&(0,l.jsx)(r(),{href:"/myDonations",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"تبرعاتي"}),"distributer"==x.rank&&(0,l.jsx)(r(),{href:"/dashboard/home",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"لوحة التحكم"}),"admin"==x.rank&&(0,l.jsx)(r(),{href:"/admin/home",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"لوحة التحكم"})]}),(0,l.jsx)("li",{children:(0,l.jsx)(r(),{href:"/profile",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"الملف الشخصي"})}),(0,l.jsx)("li",{children:(0,l.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),h(null),p.push("/login")},className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"تسجيل الخروج"})})]}):(0,l.jsx)("li",{children:(0,l.jsx)(r(),{href:"/login",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"تسجيل الدخول"})})]})]})}},7936:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l=(0,s(4057).A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},689:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l=(0,s(4057).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[616,651,441,517,358],()=>t(5560)),_N_E=e.O()}]);