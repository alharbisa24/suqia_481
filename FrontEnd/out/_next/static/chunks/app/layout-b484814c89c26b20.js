(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{5595:(e,t,n)=>{Promise.resolve().then(n.bind(n,7924))},232:(e,t,n)=>{"use strict";n.d(t,{J:()=>o,v:()=>r});var s=n(5155),l=n(2115);let a=(0,l.createContext)(),r=e=>{let{children:t}=e,[n,r]=(0,l.useState)(null);return(0,s.jsx)(a.Provider,{value:{user:n,setUser:r},children:t})},o=()=>(0,l.useContext)(a)},7924:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var s=n(5155);n(9324),n(8173);var l=n(6793),a=n.n(l),r=n(2115),o=n(6046),i=n(232);let c=(0,n(4057).A)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);function d(e){let{children:t}=e,{user:n,setUser:l}=(0,i.J)(),[d,u]=(0,r.useState)(!1),[x,m]=(0,r.useState)(!1),[h,f]=(0,r.useState)([{role:"assistant",content:"مرحبًا! كيف يمكنني مساعدتك اليوم؟"}]),[p,b]=(0,r.useState)(""),[g,v]=(0,r.useState)(""),[j,y]=(0,r.useState)(!1),N=(0,r.useRef)(null);(0,o.useRouter)(),(0,o.usePathname)(),(0,r.useEffect)(()=>{let e=localStorage.getItem("user");if(e)try{l(JSON.parse(e))}catch(e){console.error("Failed to parse user from localStorage:",e)}},[l]),(0,r.useEffect)(()=>{w()},[h]);let w=()=>{var e;null===(e=N.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},k=e=>{let t=e.toLowerCase();for(let e of["خطوات التبرع","طريقة الطلب","طريقة التبرع","كيف بتبرع","كيف اتبرع","كيف اتصدق","كيف اطلب","كيفية التبرع","كيفية الطلب"])if(t.includes(e))return"طريقة التبرع\n\n        اولا لابد من انشاء حساب عن طريق:\n\n        ١) الضغط على زر تسجيل الدخول بالاعلى\n\n        ٢) إنشاء حساب\n\n        ٣) تعبئة بياناتك والضغط على زر إنشاء حساب\n\n        بعد ذلك من الرئيسية:\n\n        ١) ضغط زر التبرع الان\n\n        ٢) اختيار شركة المياه - الحجم - الكمية\n\n        ٣) تحديد المسجد من الخريطة\n\n        ٤) ضغط زر ادفع الان واكمال عملية الدفع\n\n        بعد ذلك ستتم عملية المراجعة وتعيين مندوب لاكمال عملية التبرع\n\n        شكرا لتبرعك!";for(let[e,n]of Object.entries({"كيف اسجل":"للتسجيل: 1) اضغط 'تسجيل دخول' 2)  اضغط انشاء حساب 3) املأ البيانات 4) اضغط إنشاء حساب ، الان تم انشاء حسابك بنجاح !","تواصل معنا":"للتواصل: البريد: info@suqia.com "}))if(t.includes(e.toLowerCase()))return n;return null},S=async()=>{if(!p.trim())return;let e={role:"user",content:p};f(t=>[...t,e]),b(""),y(!0);try{var t,n,s,l,a,r;let e=k(p);if(e){f(t=>[...t,{role:"assistant",content:e}]),y(!1);return}let o="أنت مساعد موقع سقيا (Suqia). أجب باختصار (بحد أقصى 3 جمل) وبشكل واضح.\n     \n      جاوب بنفس اللغه المرسلة لك سواء بالعربيه او الانجليزيه\n      answer with same language that user entered\n      معلومات عن الموقع:\n      - اسم الموقع: سقيا (Suqia)\n      - عنوان الموقع: https://suqia.vercel.app\n      - الهدف الرئيسي: تمكين الزوار من التبرع بالماء لمساجد محددة يختارونها بأنفسهم داخل المملكة العربية السعودية.\n      - النطاق الجغرافي: يخدم المساجد في المملكة العربية السعودية.\n      - آلية العمل:\n        * يختار المستخدم المسجد المراد التبرع له.\n        * يحدد كمية الماء (بحد أقصى 30 كرتون لكل عملية تبرع).\n        * يقوم بالتبرع إلكترونياً عبر بوابة الدفع PayTabs.\n      - آلية التحقق: يقوم السائق بتصوير كراتين الماء داخل المسجد وإرسال الصورة كإثبات للمتبرع.\n      - طرق الدفع: الدفع الإلكتروني عبر بوابة PayTabs.\n      - طبيعة المشروع: مشروع فردي.\n      - خطوات التسجيل كسائق:\n        * زر تسجيل دخول.\n        * زر إانشاء حساب.\n        * تعبئة المعلومات.\n        * الضغط على زر إنشاء حساب.\n        * بعد العودة للصفحة الرئيسية يظهر زر تسجيل السائقين بالاعلى.\n        * الضغط على زر تسجيل السائقين.\n        * تعبئة المعلومات.\n        * الضغط على زر تقديم الطلب.\n        * بعد ذلك يتم مراجعة الطلب من قبل الإدارة. وابلاغك عند تعيينك كسائق لدى سقيا\n      \n      يمكنك الإجابة عن الأسئلة المتعلقة بالموقع وخدماته، وأيضا الأسئلة العامة الأخرى.\n      \n      السؤال: ".concat(p,"\n      الجواب:"),i=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyCMR3d65yWqPlmH6c_sGqGeIi5DKnj9tEo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:o}]}],generationConfig:{maxOutputTokens:200,temperature:.5}})});if(!i.ok){let e=await i.text();console.error("API HTTP Error:",i.status,e);let t="فشل في الاتصال بواجهة برمجة التطبيقات (HTTP ".concat(i.status,"). قد يكون بسبب مفتاح API غير صحيح أو مشكلة في الخادم.");try{let n=JSON.parse(e);n.error&&n.error.message&&(t="خطأ من API: ".concat(n.error.message))}catch(e){}f(e=>[...e,{role:"assistant",content:t}]),y(!1);return}let c=await i.json(),d="عذرًا، لم أتمكن من الإجابة. يرجى إعادة المحاولة.";(null==c?void 0:null===(a=c.candidates)||void 0===a?void 0:null===(l=a[0])||void 0===l?void 0:null===(s=l.content)||void 0===s?void 0:null===(n=s.parts)||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.text)?d=c.candidates[0].content.parts[0].text.trim():(null===(r=c.promptFeedback)||void 0===r?void 0:r.blockReason)?d="عذرًا، تم حظر هذا السؤال لأسباب تتعلق بالسلامة. (Block Reason: ".concat(c.promptFeedback.blockReason,")"):console.error("Unexpected API Response Structure or Empty Response:",c),f(e=>[...e,{role:"assistant",content:d}])}catch(e){console.error("Error during fetch or parsing:",e),f(e=>[...e,{role:"assistant",content:"حدث خطأ تقني غير متوقع. يرجى المحاولة لاحقًا."}])}finally{y(!1)}};return(0,s.jsxs)("html",{lang:"ar",dir:"rtl",children:[(0,s.jsxs)(a(),{children:[(0,s.jsx)("title",{children:"سقيا"}),(0,s.jsx)("link",{rel:"shortcut icon",href:"/images/SuqiaLogo.PNG"}),(0,s.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,s.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"true"}),(0,s.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@100;200;300;400;500;600;700&display=swap",rel:"stylesheet"})]}),(0,s.jsxs)("body",{className:"antialiased font-sans",children:[(0,s.jsx)("main",{className:"flex-1 pt-24",children:t}),(0,s.jsx)("footer",{className:"bg-blue-500 text-white py-5 mt-auto",children:(0,s.jsx)("div",{className:"max-w-6xl mx-auto text-center",children:(0,s.jsx)("p",{className:"text-base md:text-lg",children:"\xa9 2025 سقيا - جميع الحقوق محفوظة"})})}),(0,s.jsx)("script",{children:"\n            document.getElementById('menu-button').addEventListener('click', function() {\n              var menu = document.getElementById('mobile-menu');\n              if (menu.classList.contains('hidden')) {\n                menu.classList.remove('hidden');\n              } else {\n                menu.classList.add('hidden');\n              }\n            });\n          "}),(0,s.jsx)("div",{className:"fixed bottom-5 right-5 z-50",children:(0,s.jsxs)("button",{onClick:()=>m(!x),className:"bg-blue-500 text-white p-4 rounded-full shadow-lg hover:bg-blue-600 transition flex items-center justify-center","aria-label":"فتح الدردشة",children:[(0,s.jsx)(c,{className:"w-6 h-6"}),x?null:(0,s.jsx)("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:h.length})]})}),x&&(0,s.jsxs)("div",{className:"fixed bottom-20 right-5 w-80 bg-white shadow-lg rounded-lg p-4 z-50 flex flex-col",style:{maxHeight:"70vh"},children:[(0,s.jsxs)("div",{className:"flex justify-between items-center border-b pb-2 mb-2",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-black",children:"دردشة المساعد"}),(0,s.jsx)("button",{onClick:()=>m(!1),className:"text-gray-500 hover:text-gray-700 text-xl","aria-label":"إغلاق الدردشة",children:"\xd7"})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto mb-3 space-y-2 py-2",children:[h.map((e,t)=>(0,s.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,s.jsx)("p",{className:"max-w-xs text-sm p-3 rounded-lg ".concat("assistant"===e.role?"bg-gray-100 text-gray-700":"bg-blue-500 text-white"),style:{whiteSpace:"pre-line"},children:e.content})},t)),j&&(0,s.jsx)("div",{className:"flex justify-start",children:(0,s.jsxs)("p",{className:"bg-gray-100 text-gray-700 text-sm p-3 rounded-lg",children:["جاري البحث عن إجابة...",(0,s.jsx)("span",{className:"inline-block ml-2 animate-pulse",children:"..."})]})}),(0,s.jsx)("div",{ref:N})]}),(0,s.jsxs)("div",{className:"border-t pt-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("input",{type:"text",value:p,onChange:e=>b(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),S())},placeholder:"اكتب سؤالك هنا...",className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 text-black",disabled:j,"aria-label":"رسالة الدردشة"}),(0,s.jsx)("button",{onClick:S,disabled:j||!p.trim(),className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 disabled:bg-blue-300 flex items-center justify-center","aria-label":"إرسال الرسالة",children:j?(0,s.jsx)("span",{className:"inline-block h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):"إرسال"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1 text-center",children:"المساعد الآلي قد يخطئ أحيانًا، يرجى التحقق من المعلومات المهمة"})]})]})]})]})}function u(e){let{children:t}=e;return(0,s.jsx)(i.v,{children:(0,s.jsx)(d,{children:t})})}},6793:(e,t)=>{"use strict";function n(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9324:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[533,616,441,517,358],()=>t(5595)),_N_E=e.O()}]);