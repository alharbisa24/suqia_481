(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[88],{7776:(e,t,r)=>{Promise.resolve().then(r.bind(r,7826))},7826:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(5155),l=r(2115),i=r(209);r(1092);var a=r(6046),n=r(232),c=r(473);function o(){let{setUser:e}=(0,n.J)();(0,a.useRouter)();let[t,r]=(0,l.useState)({company:"",city:"",district:"",license:""});(0,l.useEffect)(()=>{window.notyf=new i.zT({duration:5e3,position:{x:"left",y:"top"},types:[{type:"success",background:"green",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"error",background:"#ff5e5e",icon:{className:"notyf__icon--error",tagName:"i"}}]})},[]);let o=e=>{r({...t,[e.target.name]:e.target.value})},d=async s=>{s.preventDefault();let l=localStorage.getItem("token");if(!l){alert("يجب تسجيل الدخول أولاً");return}if(!/^\d+$/.test(t.license)){window.notyf.error("رقم الرخصة يجب أن يحتوي على أرقام فقط");return}try{let s=await fetch("".concat("http://localhost:2000","/distributer-request"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:l,company:t.company,city:t.city,district:t.district,drive_licence_number:t.license})}),i=await s.json();s.ok?(window.notyf.success("تم تقديم الطلب بنجاح! سنتواصل معك قريباً."),r({company:"",city:"",district:"",license:""}),localStorage.setItem("user",JSON.stringify(i.user)),e(i.user)):alert(i.message||"حدث خطأ ما")}catch(e){console.error("خطأ أثناء الإرسال:",e),alert("حدث خطأ أثناء الإرسال")}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:[(0,s.jsx)(c.A,{}),(0,s.jsxs)("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow-md p-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-black text-right mb-8",children:"تسجيل السائقين"}),(0,s.jsxs)("form",{onSubmit:d,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 text-right text-black",children:"رقم الرخصة"}),(0,s.jsx)("input",{type:"text",name:"license",value:t.license,onChange:o,placeholder:"ادخل رقم الرخصة",className:"w-full p-3 rounded-lg border text-black border-gray-300 bg-white text-right",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 text-right text-black",children:"المدينة"}),(0,s.jsxs)("select",{name:"city",value:t.city,onChange:o,className:"w-full p-3 rounded-lg border text-black border-gray-300 bg-white text-right",required:!0,children:[(0,s.jsx)("option",{value:"",children:"اختر المدينة"}),["الرياض","جدة","مكة","المدينة المنورة"].map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 text-right text-black",children:"اسم الحي"}),(0,s.jsx)("input",{type:"text",name:"district",value:t.district,onChange:o,placeholder:"ادخل اسم الحي",className:"w-full p-3 rounded-lg border text-black border-gray-300 bg-white text-right",required:!0})]})]}),(0,s.jsx)("div",{className:"text-right",children:(0,s.jsx)("button",{type:"submit",className:"px-6 py-2 bg-sky-500 text-white rounded-md hover:bg-sky-600 transition",children:"تقديم الطلب"})})]})]})]})}},232:(e,t,r)=>{"use strict";r.d(t,{J:()=>n,v:()=>a});var s=r(5155),l=r(2115);let i=(0,l.createContext)(),a=e=>{let{children:t}=e,[r,a]=(0,l.useState)(null);return(0,s.jsx)(i.Provider,{value:{user:r,setUser:a},children:t})},n=()=>(0,l.useContext)(i)},473:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var s=r(5155),l=r(8173),i=r.n(l),a=r(2115),n=r(6046),c=r(689),o=r(7936),d=r(232);let h=()=>{let e=(0,a.useRef)(null),[t,r]=(0,a.useState)(!1),[l,h]=(0,a.useState)(!1),{user:x,setUser:u}=(0,d.J)(),[m,g]=(0,a.useState)(""),b=(0,n.useRouter)(),p=(0,n.usePathname)(),f=e=>p===e||(null==p?void 0:p.startsWith("".concat(e,"/")));return(0,a.useEffect)(()=>{let t=t=>{e.current&&!e.current.contains(t.target)&&r(!1)};return document.addEventListener("click",t),()=>{document.removeEventListener("click",t)}},[]),(0,s.jsxs)("nav",{className:"p-4 fixed top-0 left-0 w-full z-50 bg-white transition-colors duration-300",children:[(0,s.jsxs)("div",{className:"container mx-auto flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex items-center space-x-2 space-x-reverse",children:(0,s.jsx)("img",{src:"/images/SuqiaLogo.PNG",alt:"سقيا Logo",style:{width:100}})}),(0,s.jsxs)("ul",{className:"hidden md:flex items-center bg-gray-100 rounded-full px-4 py-2 space-x-4 space-x-reverse",children:[(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:"/",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white transition-all ".concat(f("/")?"bg-white":""),children:"الرئيسية"})}),(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:"/about",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white transition-all ".concat(f("/about")?"bg-white":""),children:"من نحن"})}),x&&"user"==x.rank&&(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:"/DistributersRequest",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white transition-all ".concat(f("/DistributersRequest")?"bg-white":""),children:"تسجيل السائقين"})}),(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:"/contact",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white transition-all ".concat(f("/contact")?"bg-white":""),children:"فريقنا"})}),(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:"/order",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white transition-all ".concat(f("/order")?"bg-white":""),children:"اطلب الان"})})]}),m&&(0,s.jsx)("p",{className:"text-red-500 text-sm mt-2",children:m}),x?(0,s.jsxs)("div",{className:"relative hidden md:block",children:[(0,s.jsxs)("button",{className:"bg-[#38B6FF] text-white font-semibold py-2 px-6 rounded-full shadow-lg hover:bg-[#29A5F2] flex items-center",onClick:()=>r(!t),children:["حسابك",(0,s.jsx)("svg",{className:"w-2.5 h-2.5 ms-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:(0,s.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 4 4 4-4"})})]}),t&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10",children:["user"==x.rank&&(0,s.jsx)(i(),{href:"/myDonations",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100",children:"تبرعاتي"}),"distributer"==x.rank&&(0,s.jsx)(i(),{href:"/dashboard/home",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100",children:"لوحة التحكم"}),"admin"==x.rank&&(0,s.jsx)(i(),{href:"/admin/home",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100",children:"لوحة التحكم"}),(0,s.jsx)(i(),{href:"/profile",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100",children:"الملف الشخصي"}),(0,s.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),u(null),b.push("/login")},className:"block w-full text-right px-4 py-2 text-gray-700 hover:bg-gray-100",children:"تسجيل الخروج"})]})]}):(0,s.jsx)(i(),{href:"/login",className:"hidden md:block bg-[#38B6FF] text-white font-semibold py-2 px-6 rounded-full shadow-lg hover:bg-[#29A5F2]",children:"تسجيل الدخول"}),(0,s.jsx)("div",{className:"md:hidden",children:(0,s.jsx)("button",{className:"text-gray-700 focus:outline-none",onClick:()=>{h(!l)},children:l?(0,s.jsx)(c.A,{className:"w-6 h-6"}):(0,s.jsx)(o.A,{className:"w-6 h-6"})})})]}),(0,s.jsxs)("ul",{className:"md:hidden flex-col items-center bg-gray-100 px-4 py-2 mt-4 space-y-4 ".concat(l?"flex":"hidden"),children:[(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:"/",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"الرئيسية"})}),x&&"user"==x.rank&&(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:"/DistributersRequest",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all ".concat(f("/DistributersRequest")?"bg-white":""),children:"تسجيل السائقين"})}),(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:"/contact",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"فريقنا"})}),(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:"/order",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"اطلب الان"})}),x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("hr",{}),(0,s.jsxs)("li",{children:["user"==x.rank&&(0,s.jsx)(i(),{href:"/myDonations",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"تبرعاتي"}),"distributer"==x.rank&&(0,s.jsx)(i(),{href:"/dashboard/home",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"لوحة التحكم"}),"admin"==x.rank&&(0,s.jsx)(i(),{href:"/admin/home",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"لوحة التحكم"})]}),(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:"/profile",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"الملف الشخصي"})}),(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),u(null),b.push("/login")},className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"تسجيل الخروج"})})]}):(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:"/login",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"تسجيل الدخول"})})]})]})}},689:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(4057).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[829,616,227,441,517,358],()=>t(7776)),_N_E=e.O()}]);