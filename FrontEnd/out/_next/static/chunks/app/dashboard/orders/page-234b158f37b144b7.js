(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[611],{2389:(e,t,s)=>{Promise.resolve().then(s.bind(s,3079))},33:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(5155),l=s(2115),r=s(6046),c=s(232);let n=e=>{let{allowedRoles:t,children:s,redirectTo:n="/"}=e,{user:d}=(0,c.J)(),i=(0,r.useRouter)(),[x,o]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{let e=localStorage.getItem("user");if(!e){i.push("/login");return}let s=JSON.parse(e).rank;if(!t.includes(s)){i.push(n);return}o(!1)},[d,t,n,i]),x)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):s}},232:(e,t,s)=>{"use strict";s.d(t,{J:()=>n,v:()=>c});var a=s(5155),l=s(2115);let r=(0,l.createContext)(),c=e=>{let{children:t}=e,[s,c]=(0,l.useState)(null);return(0,a.jsx)(r.Provider,{value:{user:s,setUser:c},children:t})},n=()=>(0,l.useContext)(r)},3079:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var a=s(5155),l=s(7936),r=s(8173),c=s.n(r),n=s(7493),d=s(3100),i=s(8639),x=s(1354),o=s(2115),h=s(2651),u=s(6046),m=s(33);function p(){let[e,t]=(0,o.useState)(""),[s,r]=(0,o.useState)([]),[m,p]=(0,o.useState)(null),[y,j]=(0,o.useState)(!1),g=(0,u.useRouter)();(0,o.useEffect)(()=>{let e=localStorage.getItem("user");p(e?JSON.parse(e):null)},[]),(0,o.useEffect)(()=>{(null==m?void 0:m.id)&&("user"==m.rank&&g.push("/"),f())},[m]);let f=async()=>{try{let e="".concat("https://suqia-481.onrender.com","/distributer_completed_orders?distributer_id=").concat(m.id),t=await h.A.get(e);200===t.status&&r(t.data)}catch(e){console.error("Error fetching orders:",e)}},N=s.filter(t=>{var s;return null==t?void 0:null===(s=t.order_id)||void 0===s?void 0:s.toString().includes(e)});return(0,a.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-100",children:[(0,a.jsxs)("div",{className:"fixed right-0 min-h-[600px] w-64 bg-gray-50 text-black shadow-lg flex flex-col m-5 mt-20 rounded-3xl p-6 transition-transform duration-300 ease-in-out transform ".concat(y?"translate-x-0 top-20":"translate-x-full top-10"," md:translate-x-0 z-50"),children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-center text-black mb-8",children:"لوحة تحكم السائقين"}),(0,a.jsxs)("nav",{className:"flex flex-col space-y-4",children:[(0,a.jsxs)(c(),{href:"/dashboard/home",className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-200 transition text-black",children:[(0,a.jsx)(n.A,{className:"w-5 h-5 text-gray-700 m-2"})," ",(0,a.jsx)("span",{children:"الرئيسية"})]}),(0,a.jsxs)(c(),{href:"/dashboard/new_orders",className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-200 transition text-black",children:[(0,a.jsx)(d.A,{className:"w-5 h-5 text-gray-700  m-2"})," ",(0,a.jsx)("span",{children:"الطلبات الجارية"})]}),(0,a.jsxs)(c(),{href:"/dashboard/orders",className:"flex items-center space-x-3 p-3 rounded-lg bg-gray-200 transition text-black",children:[(0,a.jsx)(i.A,{className:"w-5 h-5 text-gray-700  m-2"})," ",(0,a.jsx)("span",{children:"الطلبات المكتملة"})]}),(0,a.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),p(null),g.push("/login")},className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-red-300 transition mt-auto text-black",children:[(0,a.jsx)(x.A,{className:"w-5 h-5 text-gray-700 m-2 "})," ",(0,a.jsx)("span",{children:"تسجيل خروج"})]})]})]}),(0,a.jsxs)("div",{className:"flex-grow p-6 text-black relative z-10 transition-padding duration-300 ".concat("md:pr-80 "),children:[(0,a.jsx)("button",{className:" top-20 right-5 z-50 bg-gray-100 p-2 rounded-full  md:hidden",onClick:()=>j(!y),children:(0,a.jsx)(l.A,{className:"w-6 h-6 text-gray-700"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-right mb-8",children:"الطلبات المكتملة"}),(0,a.jsxs)("div",{className:"relative flex flex-col my-12 bg-white rounded-3xl p-6 overflow-x-auto",children:[(0,a.jsx)("div",{className:"flex justify-end mb-4",children:(0,a.jsx)("input",{type:"text",placeholder:"ابحث برقم الطلب",value:e,onChange:e=>t(e.target.value),className:"w-full md:w-64 px-4 py-2 border rounded-lg text-right"})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full text-right text-sm md:text-base",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-100",children:[(0,a.jsx)("th",{className:"px-4 py-2",children:"رقم الطلب"}),(0,a.jsx)("th",{className:"px-4 py-2",children:"محتوى الطلب"}),(0,a.jsx)("th",{className:"px-4 py-2",children:"صورة التسليم"}),(0,a.jsx)("th",{className:"px-4 py-2",children:"المبلغ"}),(0,a.jsx)("th",{className:"px-4 py-2",children:"الحالة"}),(0,a.jsx)("th",{className:"px-4 py-2",children:"تاريخ التسليم"})]})}),(0,a.jsxs)("tbody",{children:[N.map((e,t)=>(0,a.jsxs)("tr",{className:"border-t",children:[(0,a.jsxs)("td",{className:"px-4 py-3",children:["#",e.order_id]}),(0,a.jsxs)("td",{className:"px-4 py-3",children:[(0,a.jsxs)("p",{className:"font-medium",children:[" كرتون ماء ",e.selectedSize]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:e.company}),(0,a.jsxs)("p",{className:"text-xs",children:["الكمية: ",e.quantity]}),(0,a.jsxs)("p",{className:"text-xs",children:["العنوان: ",e.city," - ",e.district," - ",e.street]}),(0,a.jsxs)("p",{className:"text-xs",children:["المسجد: ",e.mosque]})]}),(0,a.jsx)("td",{className:"px-4 py-3 ",children:(0,a.jsx)("img",{src:"".concat(e.image),alt:"صورة التسليم",className:"h-20 w-20 object-cover rounded-lg border"})}),(0,a.jsxs)("td",{className:"px-4 py-3",children:[e.totalPrice," ريال"]}),(0,a.jsx)("td",{className:"px-4 py-3 text-green-700",children:"مكتمل"}),(0,a.jsx)("td",{className:"px-4 py-3",children:e.created_at})]},t)),0===N.length&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:"6",className:"px-4 py-6 text-center text-gray-500",children:"لا توجد طلبات مكتملة"})})]})]})})]})]})]})}function y(){return(0,a.jsx)(m.A,{allowedRoles:["distributer"],redirectTo:"/",children:(0,a.jsx)(p,{})})}},7493:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(4057).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},8639:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(4057).A)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]])},1354:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(4057).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},7936:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(4057).A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},3100:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(4057).A)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[616,651,441,517,358],()=>t(2389)),_N_E=e.O()}]);