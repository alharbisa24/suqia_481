(()=>{var e={};e.id=520,e.ids=[520],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},2412:e=>{"use strict";e.exports=require("assert")},4735:e=>{"use strict";e.exports=require("events")},9021:e=>{"use strict";e.exports=require("fs")},1630:e=>{"use strict";e.exports=require("http")},5591:e=>{"use strict";e.exports=require("https")},3873:e=>{"use strict";e.exports=require("path")},7910:e=>{"use strict";e.exports=require("stream")},9551:e=>{"use strict";e.exports=require("url")},8354:e=>{"use strict";e.exports=require("util")},4075:e=>{"use strict";e.exports=require("zlib")},4647:()=>{},441:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>c,pages:()=>m,routeModule:()=>u,tree:()=>d});var r=s(260),a=s(8203),l=s(5155),i=s.n(l),n=s(7292),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3988)),"/Users/meshari/Documents/GitHub/suqia_481/FrontEnd/app/login/page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,9019)),"/Users/meshari/Documents/GitHub/suqia_481/FrontEnd/app/layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],m=["/Users/meshari/Documents/GitHub/suqia_481/FrontEnd/app/login/page.js"],c={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9008:(e,t,s)=>{Promise.resolve().then(s.bind(s,3988))},800:(e,t,s)=>{Promise.resolve().then(s.bind(s,480))},480:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(5512),a=s(8009),l=s(9334),i=s(5668),n=s(2171),o=s(7631);function d(){let{setUser:e}=(0,n.J)(),[t,s]=(0,a.useState)(!0),[d,m]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),[x,h]=(0,a.useState)(""),[p,g]=(0,a.useState)(""),[b,f]=(0,a.useState)(""),[v,j]=(0,a.useState)(""),[y,w]=(0,a.useState)(""),[N,k]=(0,a.useState)(""),[q,S]=(0,a.useState)(!1),[C,_]=(0,a.useState)(!1),$=(0,l.useRouter)(),P=e=>{let t=0,s={length:e.length>=8,hasSymbol:/[!@#$%^&*(),.?":{}|<>]/.test(e),hasNumber:/[0-9]/.test(e)};return s.length&&t++,s.hasSymbol&&t++,s.hasNumber&&t++,{strength:t,checks:s}},A=async t=>{t.preventDefault(),S(!0);try{let t=await i.A.post("http://localhost:2000/login",{email:c,password:p});localStorage.setItem("token",t.data.token);let s={id:t.data.user._id,fullname:t.data.user.fullname,email:t.data.user.email,phoneNumber:t.data.user.phoneNumber,rank:t.data.user.rank};j(""),localStorage.setItem("user",JSON.stringify(s)),e(s),$.push("/")}catch(e){j(e.response.data.message)}finally{S(!1)}},F=async t=>{if(t.preventDefault(),_(!0),w(""),!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(c)){w("الرجاء التأكد من صحة البريد الإلكتروني"),_(!1);return}if(!/^\d{10}$/.test(x)){w("الرجاء التأكد من صحة رقم الهاتف"),_(!1);return}if(p!==b){w("كلمات المرور غير متطابقة"),_(!1);return}let{strength:s,checks:r}=P(p);if(!r.length){w("عذرا كلمة المرور يجب ان لا تقل من ٨ احرف !"),_(!1);return}if(!r.hasSymbol){w("يجب أن تحتوي كلمة المرور على رمز واحد على الأقل"),_(!1);return}if(!r.hasNumber){w("يجب أن تحتوي كلمة المرور على رقم واحد على الأقل"),_(!1);return}try{let t=await i.A.post("http://localhost:2000/register",{email:c,fullname:d,password:p,email:c,phoneNumber:x});localStorage.setItem("token",t.data.token);let s={fullname:t.data.user.fullname,email:t.data.user.email,phoneNumber:t.data.user.phoneNumber,rank:t.data.user.rank};localStorage.setItem("user",JSON.stringify(s)),e(s),_(!1),w(""),k("تم انشاء حسابك بنجاح ! سيتم تحويلك للصفحة الرئيسية خلال ٥ ثواني..."),setTimeout(()=>{$.push("/")},5e3)}catch(e){w(e.response.data.message),_(!1)}finally{_(!1)}};return(0,r.jsxs)("div",{className:"flex items-center justify-center min-h-screen p-4",children:[(0,r.jsx)(o.A,{}),(0,r.jsx)("div",{className:"relative w-full max-w-5xl min-h-[600px] md:h-[600px] bg-white shadow-lg rounded-lg overflow-hidden",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row-reverse h-full",children:[(0,r.jsx)("div",{className:`w-full md:w-1/2 flex flex-col justify-center items-center p-6 md:p-10 transition-all duration-500 ${t?"bg-blue-500 text-white":"bg-sky-500/50 text-gray-800"}`,children:t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{className:"text-xl md:text-2xl font-semibold text-center",children:"  مرحبا بعودتك! "}),(0,r.jsx)("p",{className:"text-xs md:text-sm mt-2 text-center",children:"ليس لديك حساب ؟ قم بإنشاء حسابك بسهولة "}),(0,r.jsx)("button",{onClick:()=>s(!1),className:"mt-4 md:mt-6 px-4 py-2 md:px-5 md:py-2 border rounded-full text-sm md:text-base border-white text-white transition hover:bg-white hover:text-blue-500",children:"إنشاء حساب"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{className:"text-xl md:text-2xl font-semibold text-center",children:" أدخل بياناتك لبدء رحلتك "}),(0,r.jsx)("p",{className:"text-xs md:text-sm mt-2 text-center",children:"لديك حساب بالفعل ؟ قم بتسجيل الدخول "}),(0,r.jsx)("button",{onClick:()=>s(!0),className:"mt-4 md:mt-6 px-4 py-2 md:px-5 md:py-2 border rounded-full text-sm md:text-base border-blue-500 text-blue-500 transition hover:bg-blue-500 hover:text-white",children:"تسجيل الدخول"})]})}),(0,r.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col justify-center p-4 md:p-12 text-right",children:[t?(0,r.jsx)("form",{onSubmit:A,className:"w-full max-w-md mx-auto",children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{className:"text-xl md:text-2xl font-semibold text-blue-500",children:"تسجيل الدخول"}),(0,r.jsx)("input",{required:!0,type:"email",name:"email",placeholder:"البريد الإلكتروني",value:c,onChange:e=>u(e.target.value),className:"mt-3 p-3 w-full border rounded text-right text-sm md:text-base text-black"}),(0,r.jsx)("input",{required:!0,type:"password",name:"password",placeholder:"كلمة المرور",value:p,onChange:e=>g(e.target.value),className:"mt-3 p-3 w-full border rounded text-right text-sm md:text-base text-black"}),(0,r.jsx)("a",{href:"/reset_password",className:"text-blue-500 text-sm mt-2",children:"نسيت كلمة المرور ؟"}),v&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-2",children:v}),"...",(0,r.jsx)("button",{type:"submit",className:`mt-4 md:mt-5 px-4 py-2 md:px-5 md:py-3 w-full bg-blue-500 text-white rounded text-sm md:text-base transition hover:bg-blue-600 ${q?"opacity-50 cursor-not-allowed":""}`,disabled:q,children:q?(0,r.jsxs)("span",{className:"flex items-center justify-center",children:[(0,r.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"جاري التحميل..."]}):t?"تسجيل الدخول":"إنشاء حساب"})]})}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("form",{onSubmit:F,className:"w-full max-w-md mx-auto",children:[(0,r.jsx)("h2",{className:"text-xl md:text-2xl font-semibold text-blue-500",children:"إنشاء حساب"}),(0,r.jsx)("input",{required:!0,type:"text",name:"fullname",placeholder:"الاسم الكامل",value:d,onChange:e=>m(e.target.value),className:"mt-3 p-3 w-full border rounded text-right text-sm md:text-base text-black"}),(0,r.jsx)("input",{required:!0,type:"email",name:"email",placeholder:"البريد الإلكتروني",value:c,onChange:e=>u(e.target.value),className:"mt-3 p-3 w-full border rounded text-right text-sm md:text-base text-black"}),(0,r.jsx)("input",{type:"tel",name:"phoneNumber",placeholder:"رقم الهاتف",value:x,onChange:e=>h(e.target.value),className:"mt-3 p-3 w-full border rounded text-right text-sm md:text-base text-black",pattern:"[0-9]{10}",title:"يجب أن يتكون رقم الهاتف من 10 أرقام"}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("input",{type:"password",placeholder:"كلمة المرور الجديدة",value:p,onChange:e=>g(e.target.value),className:"mt-3 p-3 w-full border rounded text-right text-sm md:text-base text-black",required:!0}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("div",{className:"flex justify-between mb-1",children:(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"قوة كلمة المرور"})}),(0,r.jsx)("div",{className:"flex space-x-1 rtl:space-x-reverse",children:[void 0,void 0,void 0].map((e,t)=>(0,r.jsx)("div",{className:`h-2 flex-1 rounded-full transition-all duration-300 ${0===p.length?"bg-gray-200":t<P(p).strength?["bg-red-500","bg-yellow-500","bg-green-500"][P(p).strength-1]:"bg-gray-200"}`},t))})]}),(0,r.jsxs)("div",{className:"mt-2 text-xs space-y-1",children:[(0,r.jsxs)("div",{className:`flex items-center ${p.length>=8?"text-green-500":"text-gray-400"}`,children:[(0,r.jsx)("span",{className:"ml-1",children:p.length>=8?"✓":"○"}),"8 أحرف على الأقل"]}),(0,r.jsxs)("div",{className:`flex items-center ${/[!@#$%^&*(),.?":{}|<>]/.test(p)?"text-green-500":"text-gray-400"}`,children:[(0,r.jsx)("span",{className:"ml-1",children:/[!@#$%^&*(),.?":{}|<>]/.test(p)?"✓":"○"}),"رمز واحد على الأقل (مثل !@#$%)"]}),(0,r.jsxs)("div",{className:`flex items-center ${/[0-9]/.test(p)?"text-green-500":"text-gray-400"}`,children:[(0,r.jsx)("span",{className:"ml-1",children:/[0-9]/.test(p)?"✓":"○"}),"رقم واحد على الأقل"]})]})]}),(0,r.jsx)("input",{required:!0,type:"password",name:"confirmPassword",placeholder:"تأكيد كلمة المرور",value:b,onChange:e=>f(e.target.value),className:"mt-3 p-3 w-full border rounded text-right text-sm md:text-bas text-black"}),y&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-2",children:y}),"...",(0,r.jsx)("button",{type:"submit",className:`mt-4 md:mt-5 px-4 py-2 md:px-5 md:py-3 w-full bg-blue-500 text-white rounded text-sm md:text-base transition hover:bg-blue-600 ${C?"opacity-50 cursor-not-allowed":""}`,disabled:C,children:C?(0,r.jsxs)("span",{className:"flex items-center justify-center",children:[(0,r.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"جاري التحميل..."]}):"إنشاء حساب"})]})}),N&&(0,r.jsx)("p",{className:"text-center md:text-right text-green-500 mt-4 md:mt-3 text-sm md:text-base",children:N})]})]})})]})}},7631:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var r=s(5512),a=s(8531),l=s.n(a),i=s(8009),n=s(9334),o=s(1255),d=s(8320),m=s(2171);let c=()=>{let e=(0,i.useRef)(null),[t,s]=(0,i.useState)(!1),[a,c]=(0,i.useState)(!1),{user:u,setUser:x}=(0,m.J)(),[h,p]=(0,i.useState)(""),g=(0,n.useRouter)(),b=(0,n.usePathname)(),f=e=>b===e||b?.startsWith(`${e}/`);return(0,i.useEffect)(()=>{let t=t=>{e.current&&!e.current.contains(t.target)&&s(!1)};return document.addEventListener("click",t),()=>{document.removeEventListener("click",t)}},[]),(0,r.jsxs)("nav",{className:"p-4 fixed top-0 left-0 w-full z-50 bg-white transition-colors duration-300",children:[(0,r.jsxs)("div",{className:"container mx-auto flex items-center justify-between",children:[(0,r.jsx)("div",{className:"flex items-center space-x-2 space-x-reverse",children:(0,r.jsx)("img",{src:"/images/SuqiaLogo.PNG",alt:"سقيا Logo",style:{width:100}})}),(0,r.jsxs)("ul",{className:"hidden md:flex items-center bg-gray-100 rounded-full px-4 py-2 space-x-4 space-x-reverse",children:[(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"/",className:`text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white transition-all ${f("/")?"bg-white":""}`,children:"الرئيسية"})}),(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"/about",className:`text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white transition-all ${f("/about")?"bg-white":""}`,children:"من نحن"})}),u&&"user"==u.rank&&(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"/DistributersRequest",className:`text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white transition-all ${f("/DistributersRequest")?"bg-white":""}`,children:"تسجيل السائقين"})}),(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"/contact",className:`text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white transition-all ${f("/contact")?"bg-white":""}`,children:"فريقنا"})}),(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"/order",className:`text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white transition-all ${f("/order")?"bg-white":""}`,children:"اطلب الان"})})]}),h&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-2",children:h}),u?(0,r.jsxs)("div",{className:"relative hidden md:block",children:[(0,r.jsxs)("button",{className:"bg-[#38B6FF] text-white font-semibold py-2 px-6 rounded-full shadow-lg hover:bg-[#29A5F2] flex items-center",onClick:()=>s(!t),children:["حسابك",(0,r.jsx)("svg",{className:"w-2.5 h-2.5 ms-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:(0,r.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 4 4 4-4"})})]}),t&&(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10",children:["user"==u.rank&&(0,r.jsx)(l(),{href:"/myDonations",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100",children:"تبرعاتي"}),"distributer"==u.rank&&(0,r.jsx)(l(),{href:"/dashboard/home",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100",children:"لوحة التحكم"}),"admin"==u.rank&&(0,r.jsx)(l(),{href:"/admin/home",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100",children:"لوحة التحكم"}),(0,r.jsx)(l(),{href:"/profile",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100",children:"الملف الشخصي"}),(0,r.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),x(null),g.push("/login")},className:"block w-full text-right px-4 py-2 text-gray-700 hover:bg-gray-100",children:"تسجيل الخروج"})]})]}):(0,r.jsx)(l(),{href:"/login",className:"hidden md:block bg-[#38B6FF] text-white font-semibold py-2 px-6 rounded-full shadow-lg hover:bg-[#29A5F2]",children:"تسجيل الدخول"}),(0,r.jsx)("div",{className:"md:hidden",children:(0,r.jsx)("button",{className:"text-gray-700 focus:outline-none",onClick:()=>{c(!a)},children:a?(0,r.jsx)(o.A,{className:"w-6 h-6"}):(0,r.jsx)(d.A,{className:"w-6 h-6"})})})]}),(0,r.jsxs)("ul",{className:`md:hidden flex-col items-center bg-gray-100 px-4 py-2 mt-4 space-y-4 ${a?"flex":"hidden"}`,children:[(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"/",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"الرئيسية"})}),u&&"user"==u.rank&&(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"/DistributersRequest",className:`text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all ${f("/DistributersRequest")?"bg-white":""}`,children:"تسجيل السائقين"})}),(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"/contact",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"فريقنا"})}),(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"/order",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"اطلب الان"})}),u?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("hr",{}),(0,r.jsxs)("li",{children:["user"==u.rank&&(0,r.jsx)(l(),{href:"/myDonations",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"تبرعاتي"}),"distributer"==u.rank&&(0,r.jsx)(l(),{href:"/dashboard/home",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"لوحة التحكم"}),"admin"==u.rank&&(0,r.jsx)(l(),{href:"/admin/home",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"لوحة التحكم"})]}),(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"/profile",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"الملف الشخصي"})}),(0,r.jsx)("li",{children:(0,r.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),x(null),g.push("/login")},className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"تسجيل الخروج"})})]}):(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"/login",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"تسجيل الدخول"})})]})]})}},3988:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/meshari/Documents/GitHub/suqia_481/FrontEnd/app/login/page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/meshari/Documents/GitHub/suqia_481/FrontEnd/app/login/page.js","default")},6055:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(8077);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},1255:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(4825).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,432,612,668,219],()=>s(441));module.exports=r})();