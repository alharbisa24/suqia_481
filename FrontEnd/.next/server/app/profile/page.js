(()=>{var e={};e.id=636,e.ids=[636],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},2412:e=>{"use strict";e.exports=require("assert")},4735:e=>{"use strict";e.exports=require("events")},9021:e=>{"use strict";e.exports=require("fs")},1630:e=>{"use strict";e.exports=require("http")},5591:e=>{"use strict";e.exports=require("https")},3873:e=>{"use strict";e.exports=require("path")},7910:e=>{"use strict";e.exports=require("stream")},9551:e=>{"use strict";e.exports=require("url")},8354:e=>{"use strict";e.exports=require("util")},4075:e=>{"use strict";e.exports=require("zlib")},4647:()=>{},3249:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var s=t(260),a=t(8203),i=t(5155),l=t.n(i),n=t(7292),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(r,o);let d=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,2156)),"/Users/meshari/Documents/GitHub/suqia_481/FrontEnd/app/profile/page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,9019)),"/Users/meshari/Documents/GitHub/suqia_481/FrontEnd/app/layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/meshari/Documents/GitHub/suqia_481/FrontEnd/app/profile/page.js"],u={require:t,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4740:(e,r,t)=>{Promise.resolve().then(t.bind(t,2156))},772:(e,r,t)=>{Promise.resolve().then(t.bind(t,2152))},7631:(e,r,t)=>{"use strict";t.d(r,{A:()=>u});var s=t(5512),a=t(8531),i=t.n(a),l=t(8009),n=t(9334),o=t(1255),d=t(8320),c=t(2171);let u=()=>{let e=(0,l.useRef)(null),[r,t]=(0,l.useState)(!1),[a,u]=(0,l.useState)(!1),{user:h,setUser:m}=(0,c.J)(),[x,p]=(0,l.useState)(""),g=(0,n.useRouter)(),b=(0,n.usePathname)(),f=e=>b===e||b?.startsWith(`${e}/`);return(0,l.useEffect)(()=>{let r=r=>{e.current&&!e.current.contains(r.target)&&t(!1)};return document.addEventListener("click",r),()=>{document.removeEventListener("click",r)}},[]),(0,s.jsxs)("nav",{className:"p-4 fixed top-0 left-0 w-full z-50 bg-white transition-colors duration-300",children:[(0,s.jsxs)("div",{className:"container mx-auto flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex items-center space-x-2 space-x-reverse",children:(0,s.jsx)("img",{src:"/images/SuqiaLogo.PNG",alt:"سقيا Logo",style:{width:100}})}),(0,s.jsxs)("ul",{className:"hidden md:flex items-center bg-gray-100 rounded-full px-4 py-2 space-x-4 space-x-reverse",children:[(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:"/",className:`text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white transition-all ${f("/")?"bg-white":""}`,children:"الرئيسية"})}),(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:"/about",className:`text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white transition-all ${f("/about")?"bg-white":""}`,children:"من نحن"})}),h&&"user"==h.rank&&(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:"/DistributersRequest",className:`text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white transition-all ${f("/DistributersRequest")?"bg-white":""}`,children:"تسجيل السائقين"})}),(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:"/contact",className:`text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white transition-all ${f("/contact")?"bg-white":""}`,children:"فريقنا"})}),(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:"/order",className:`text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white transition-all ${f("/order")?"bg-white":""}`,children:"اطلب الان"})})]}),x&&(0,s.jsx)("p",{className:"text-red-500 text-sm mt-2",children:x}),h?(0,s.jsxs)("div",{className:"relative hidden md:block",children:[(0,s.jsxs)("button",{className:"bg-[#38B6FF] text-white font-semibold py-2 px-6 rounded-full shadow-lg hover:bg-[#29A5F2] flex items-center",onClick:()=>t(!r),children:["حسابك",(0,s.jsx)("svg",{className:"w-2.5 h-2.5 ms-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:(0,s.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 4 4 4-4"})})]}),r&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10",children:["user"==h.rank&&(0,s.jsx)(i(),{href:"/myDonations",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100",children:"تبرعاتي"}),"distributer"==h.rank&&(0,s.jsx)(i(),{href:"/dashboard/home",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100",children:"لوحة التحكم"}),"admin"==h.rank&&(0,s.jsx)(i(),{href:"/admin/home",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100",children:"لوحة التحكم"}),(0,s.jsx)(i(),{href:"/profile",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100",children:"الملف الشخصي"}),(0,s.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),m(null),g.push("/login")},className:"block w-full text-right px-4 py-2 text-gray-700 hover:bg-gray-100",children:"تسجيل الخروج"})]})]}):(0,s.jsx)(i(),{href:"/login",className:"hidden md:block bg-[#38B6FF] text-white font-semibold py-2 px-6 rounded-full shadow-lg hover:bg-[#29A5F2]",children:"تسجيل الدخول"}),(0,s.jsx)("div",{className:"md:hidden",children:(0,s.jsx)("button",{className:"text-gray-700 focus:outline-none",onClick:()=>{u(!a)},children:a?(0,s.jsx)(o.A,{className:"w-6 h-6"}):(0,s.jsx)(d.A,{className:"w-6 h-6"})})})]}),(0,s.jsxs)("ul",{className:`md:hidden flex-col items-center bg-gray-100 px-4 py-2 mt-4 space-y-4 ${a?"flex":"hidden"}`,children:[(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:"/",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"الرئيسية"})}),h&&"user"==h.rank&&(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:"/DistributersRequest",className:`text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all ${f("/DistributersRequest")?"bg-white":""}`,children:"تسجيل السائقين"})}),(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:"/contact",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"فريقنا"})}),(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:"/order",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"اطلب الان"})}),h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("hr",{}),(0,s.jsxs)("li",{children:["user"==h.rank&&(0,s.jsx)(i(),{href:"/myDonations",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"تبرعاتي"}),"distributer"==h.rank&&(0,s.jsx)(i(),{href:"/dashboard/home",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"لوحة التحكم"}),"admin"==h.rank&&(0,s.jsx)(i(),{href:"/admin/home",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"لوحة التحكم"})]}),(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:"/profile",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"الملف الشخصي"})}),(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),m(null),g.push("/login")},className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"تسجيل الخروج"})})]}):(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:"/login",className:"text-gray-700 font-medium px-4 py-1 rounded-full hover:bg-white active:bg-white transition-all",children:"تسجيل الدخول"})})]})]})}},2152:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var s=t(5512),a=t(8009),i=t(5668),l=t(2171),n=t(9334),o=t(7631);function d(){let{user:e,setUser:r}=(0,l.J)(),[t,d]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)(""),[x,p]=(0,a.useState)({fullname:e?.fullname||"",email:e?.email||"",phoneNumber:e?.phoneNumber||"",city:e?.city||"",district:e?.district||"",drive_licence_number:e?.drive_licence_number||""}),[g,b]=(0,a.useState)(x);(0,n.useRouter)();let f=async e=>{if(e.preventDefault(),!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(x.email)){m("الرجاء التأكد من صحة البريد الإلكتروني ورقم الهاتف");return}if(!/^\d{10}$/.test(x.phoneNumber)){m("الرجاء التأكد من صحة رقم الهاتف");return}try{let e=JSON.parse(localStorage.getItem("user")),t=e?e.email:null,s=`http://localhost:2000/api/profile?email=${t}`,a={newEmail:x.email,fullname:x.fullname,phoneNumber:x.phoneNumber};if(e&&"distributer"===e.rank&&(a.city=x.city,a.district=x.district,a.drive_licence_number=x.drive_licence_number),await i.A.put(s,a),b(x),d(!1),u(!0),t!==x.email){let t={...e,...x};localStorage.setItem("user",JSON.stringify(t)),r(t)}m("")}catch(e){m(e.response?.data?.message||"حدث خطأ أثناء تحديث البيانات")}},v=e=>{let{name:r,value:t}=e.target;"phone"===r&&t.length>10||p({...x,[e.target.name]:e.target.value})};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 via-sky-100 to-blue-50 py-12 px-4 sm:px-6 lg:px-8",children:[(0,s.jsx)(o.A,{}),(0,s.jsx)("div",{className:"max-w-3xl mx-auto transform transition-all duration-300",children:(0,s.jsxs)("div",{className:"relative bg-white rounded-[2rem] shadow-2xl overflow-hidden ring-1 ring-black/5 hover:shadow-2xl transition-shadow duration-300",children:[c&&(0,s.jsx)("div",{className:"absolute top-6 left-1/2 -translate-x-1/2 z-50 animate-fade-in",children:(0,s.jsxs)("div",{className:"bg-white border-2 border-emerald-100 rounded-xl px-6 py-4 shadow-2xl flex items-center space-x-4 backdrop-blur-sm",children:[(0,s.jsx)("div",{className:"bg-emerald-50 p-2 rounded-full",children:(0,s.jsx)("svg",{className:"h-6 w-6 text-emerald-600 animate-check",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-bold text-emerald-700",children:"!تم تحديث الملف الشخصي "}),(0,s.jsx)("p",{className:"text-xs text-emerald-500",children:"تم حفظ التغييرات بنجاح "})]})]})}),(0,s.jsxs)("div",{className:"relative bg-gradient-to-br from-sky-700 to-sky-600 pt-20 pb-24 px-8 group",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-noise opacity-10 mix-blend-overlay"}),(0,s.jsx)("div",{className:"absolute -bottom-14 left-8 transform transition-transform duration-300 group-hover:-translate-y-2",children:(0,s.jsx)("div",{className:"relative group",children:(0,s.jsx)("div",{className:"w-32 h-32 rounded-2xl border-4 border-white bg-sky-100 shadow-2xl overflow-hidden transition-all duration-300 hover:scale-105 hover:shadow-2xl",children:(0,s.jsx)("svg",{className:"w-full h-full text-sky-300 p-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})})}),(0,s.jsx)("h1",{className:"text-4xl font-bold text-white tracking-tighter mt-8 opacity-90",children:g.fullname})]}),(0,s.jsxs)("form",{onSubmit:f,className:"pt-20 px-8 pb-8",children:[(0,s.jsx)("div",{className:"space-y-8",children:["fullname","email","phoneNumber"].map(e=>(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("input",{id:e,name:e,value:x[e],onChange:v,disabled:!t,className:`peer w-full px-6 py-5 rounded-2xl border-2 ${t?"border-gray-200 hover:border-sky-300 focus:border-sky-400 text-gray-900":"border-gray-100 text-gray-500"} 
                     bg-gray-50 focus:ring-4 focus:ring-sky-100 focus:bg-white transition-all duration-300 disabled:cursor-not-allowed placeholder-transparent`,placeholder:" "}),(0,s.jsxs)("label",{htmlFor:e,className:`absolute right-6 -top-3.5 bg-white px-2 text-sm font-semibold drtl  ${t?"text-sky-600":"text-gray-400"} transition-all duration-300 transform ${!t&&"peer-placeholder-shown:translate-y-9 peer-placeholder-shown:text-base"} peer-placeholder-shown:text-gray-400 peer-focus:-top-3.5 peer-focus:text-sm peer-focus:text-sky-600`,children:["fullname"===e&&"الاسم الكامل","email"===e&&"البريد الإلكتروني","phoneNumber"===e&&"رقم الهاتف"]})]},e))}),(0,s.jsx)("br",{}),e&&"distributer"==e.rank?(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-black",children:"بيانات السائق"}),(0,s.jsx)("br",{}),(0,s.jsx)("div",{className:"space-y-8",children:["city","district","drive_licence_number"].map(e=>(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("input",{id:e,name:e,value:x[e],onChange:v,disabled:!t,className:`peer w-full px-6 py-5 rounded-2xl border-2 ${t?"border-gray-200 hover:border-sky-300 focus:border-sky-400 text-gray-900":"border-gray-100 text-gray-500"} 
           bg-gray-50 focus:ring-4 focus:ring-sky-100 focus:bg-white transition-all duration-300 disabled:cursor-not-allowed placeholder-transparent`,placeholder:" "}),(0,s.jsxs)("label",{htmlFor:e,className:`absolute right-6 -top-3.5 bg-white px-2 text-sm font-semibold drtl  ${t?"text-sky-600":"text-gray-400"} transition-all duration-300 transform ${!t&&"peer-placeholder-shown:translate-y-9 peer-placeholder-shown:text-base"} peer-placeholder-shown:text-gray-400 peer-focus:-top-3.5 peer-focus:text-sm peer-focus:text-sky-600`,children:["city"===e&&"المدينة","district"===e&&"الحي","drive_licence_number"===e&&"رقم رخصة القيادة"]})]},e))})]}):(0,s.jsx)("div",{}),h&&(0,s.jsxs)("p",{className:"text-red-500 text-sm mt-2",children:[h,(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{})]}),(0,s.jsx)("div",{className:"mt-12 flex justify-end space-x-4",children:t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{p({...g}),d(!1)},className:"px-8 py-4 rounded-xl bg-gray-100 text-gray-600 font-semibold hover:bg-gray-200 hover:scale-[1.02] transition-all duration-300 group",children:[(0,s.jsx)("span",{className:"inline-block group-hover:animate-shake",children:"❌"}),(0,s.jsx)("span",{className:"ml-3",children:"إلغاء التغييرات "})]}),(0,s.jsxs)("button",{type:"submit",className:"px-8 py-4 rounded-xl bg-gradient-to-r from-sky-500 to-sky-400 text-white font-semibold shadow-lg hover:shadow-sky-200/50 hover:scale-[1.02] transition-all duration-300 group",children:[(0,s.jsx)("span",{className:"inline-block group-hover:animate-bounce",children:"\uD83D\uDCBE"}),(0,s.jsx)("span",{className:"ml-3",children:"حفظ التغييرات"})]})]}):(0,s.jsxs)("button",{type:"button",onClick:()=>d(!0),className:"px-8 py-4 rounded-xl bg-gradient-to-r from-sky-500 to-sky-400 text-white font-semibold shadow-lg hover:shadow-sky-200/50 hover:scale-[1.02] transition-all duration-300 group",children:[(0,s.jsx)("span",{className:"inline-block group-hover:animate-wiggle",children:"✏️"}),(0,s.jsx)("span",{className:"ml-3",children:"تعديل الملف الشخصي "})]})})]})]})})]})}},2156:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/meshari/Documents/GitHub/suqia_481/FrontEnd/app/profile/page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/meshari/Documents/GitHub/suqia_481/FrontEnd/app/profile/page.js","default")},6055:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(8077);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},1255:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(4825).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,432,612,668,219],()=>t(3249));module.exports=s})();